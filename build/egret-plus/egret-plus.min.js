var __reflect=this&&this.__reflect||function(t,e,r){t.__class__=e,r?r.push(e):r=[e],t.__types__=t.__types__?r.concat(t.__types__):r},egret_plus;!function(t){var e;!function(t){function e(t){n&&n.onExitState(),n=t,n&&t.onEnterState()}var r=function(){function t(){}return t.prototype.onEnterState=function(){},t.prototype.onExitState=function(){},t}();t.State=r,__reflect(r.prototype,"egret_plus.StateMachine.State");var n=null;t.changeState=e}(e=t.StateMachine||(t.StateMachine={}))}(egret_plus||(egret_plus={}));var egret_plus;!function(t){function e(t,e){var r=RES.getRes(t+"_ske_json"),n=RES.getRes(t+"_tex_json"),a=RES.getRes(t+"_tex_png");try{var o=dragonBones.EgretFactory.factory;o.parseDragonBonesData(r),o.parseTextureAtlasData(n,a);var i=o.buildArmatureDisplay(e?e:r.armature[0].name);return i}catch(u){return egret.warn("create dragonBones Res is null"),void alert(t+" 动画播放失败，请联系技术人员")}}function r(t){t&&(t.dbClear(),t.dispose(),t.parent&&t.parent.removeChild(t))}t.createDragonBones=e,t.clearDBAnimation=r}(egret_plus||(egret_plus={}));var egret_plus;!function(t){function e(t,e){var r=RES.getRes(t+"_mc_json"),n=RES.getRes(t+"_tex_png"),a=new egret.MovieClipDataFactory(r,n);return new egret.MovieClip(a.generateMovieClipData(e))}t.createMC=e}(egret_plus||(egret_plus={}));var egret_plus;!function(t){function e(t,e,r){var n=[];if(e instanceof RegExp){var a=t.match(e);if(!a||0===a.length)return n.push({text:t}),n;t=t.replace(e,"|");for(var o=t.split("|"),i=0;i<o.length;i++){var u=o[i],s=a[i];n.push({text:u}),s&&n.push({text:""+s,style:r})}}else{if(-1===t.indexOf(e)||!t)return n.push({text:t}),n;for(;-1!==t.indexOf(e);)t=t.replace(e,"|");for(var o=t.split("|"),i=0;i<o.length;i++){var u=o[i],s=i===o.length-1?null:e;n.push({text:u}),s&&n.push({text:""+s,style:r})}}return n}t.encodeTextElement=e}(egret_plus||(egret_plus={}));var egret_plus;!function(t){var e;!function(t){function e(t){var e=new egret.RenderTexture;return e.drawToTexture(t),e}function r(t,e){var r=this.takeShot(t);try{r.saveToFile("image/png",e+".png",new egret.Rectangle(0,0,r.textureWidth,r.textureHeight))}catch(n){throw n}}function n(t,e,r){void 0===e&&(e=!1);var n=this.takeShot(t),a=n.toDataURL("image/png",new egret.Rectangle(0,0,n.textureWidth,n.textureHeight));return e&&egret.localStorage.setItem(r,a),a}function a(t,e,r){void 0===t&&(t=!0);var n=t?egret.localStorage.getItem(e):e,a=new Image;a.src=n,a.crossOrigin="*",a.onload=function(){var t=new egret.Texture,e=new egret.BitmapData(a);t._setBitmapData(e),r.texture=t}}t.takeShot=e,t.takeShotAndSaveFile=r,t.takeShotAndSaveLocalStorage=n,t.loadImgFromBase64=a}(e=t.Screenshot||(t.Screenshot={}))}(egret_plus||(egret_plus={}));var egret_plus;!function(t){function e(t,e){return new Promise(function(r){return egret.setTimeout(r,e,t)})}t.sleep=e}(egret_plus||(egret_plus={})),Array.prototype.random_get=function(){var t=Math.floor(Math.random()*this.length);return this[t]},Array.prototype.randomSort=function(){return this.sort(Math.plus_minus())},Array.prototype.random_get_and_delete=function(){var t=Math.floor(Math.random()*this.length),e=this[t];return this["delete"](e),e},Array.prototype["delete"]=function(t){var e=this.indexOf(t);-1!==e&&this.splice(e,1)},Array.prototype.randomSortTimes=function(t){for(var e=0;t>e;e++)this.randomSort();return this},Array.prototype.merge=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=this;return t.forEach(function(t){r=r.concat(t)}),r},Array.prototype.getDiffItem=function(t){for(var e=this,r=0;t>r;r++)this.randomSort();var n=function(){if(e.length>0)return e.pop();throw"get times exceeding length of this array!"};return{get:n,arr:this}},Math.limit=function(t,e){t=Math.min(t,e),e=Math.max(t,e);var r=e-t;return t+Math.random()*r},Math.limitInteger=function(t,e){return Math.round(this.limit(t,e))},Math.plus_minus=function(){return Math.random()>.5?-1:1},Math.convertTime=function(t,e){var r=null,n=Math.floor(e/60),a=e%60;if(t===MathTimeType.Clock){if(10>e)r="00:0"+e;else if(60>e)r="00:"+e;else if(e>=60){var o=void 0,i=void 0;o=10>n?"0"+n:n,i=10>a?"0"+a:a,r=o+":"+i}}else t===MathTimeType.Chinese&&(r=0==n?e+"秒":0==a?n+"分钟":n+"分"+a+"秒");return r},Math.getDiffNumber=function(t,e,r){for(var n=[],a=t;e>=a;a++)n.push(a);return n.getDiffItem(r)},Math.getConsecutiveNumArr=function(t,e){for(var r=[],n=t;e+1>n;n++)r.push(n);return r},Math.getExactDivisionNumArr=function(t,e,r){for(var n=[],a=e;r>=a;a++)t%a===0&&n.push(a);return n},Math.getBeExactDivisionNumArr=function(t,e,r){for(var n=[],a=e;r>=a;a++)a%t===0&&n.push(a);return n};var MathTimeType;!function(t){t[t.Chinese=0]="Chinese",t[t.Clock=1]="Clock"}(MathTimeType||(MathTimeType={}));